This directory contains tests for gnulib-tool --import or --add-import
in a given package.

To add a new package:
- Get a git checkout (not tarball!) of the package, that can work with
  the gnulib stable-202401 branch. Typically this means to 'git checkout'
  a commit from 2024-01-01.
- Look at autogen.sh / bootstrap.conf / ... to find the gnulib-tool invocation.
  If there are several such invocations, each gives rise to a separate unit
  test; they share the package directory.
- Eliminate all files which are not relevant for gnulib-tool invocations.
  Typically this includes all .h and .c files that don't come from gnulib
  (although you need to watch out for --local-dir options!), all documentation
  files, all READMEs etc. What's left are
    - configure.ac
    - Makefile.am
    - *.m4
    - build-aux/*
    - all .h and .c files that were added by previous gnulib-tool invocations.
- Look at all .gitignore files, and eliminate files and patterns that may match
  files generated by gnulib-tool. In particular, eliminate '*~'.
- Create a test-<PACKAGE>-<N>.sh file.
- Run it: ./test-<PACKAGE>-<N>.sh
- It will fail because there is no expected results. So, move them:
  $ mv tmp<PID>-out test-<PACKAGE>-<N>.out
  $ mv tmp<PID>-err test-<PACKAGE>-<N>.err
  $ mv tmp<PID>-result test-<PACKAGE>-<N>.result
  Verify the contents of test-<PACKAGE>-<N>.result.
