This directory contains unit tests for gnulib-tool.

Before using it, set the environment variables
  - GNULIB_SRCDIR     - points to the directory that contains gnulib-tool
  - GNULIB_TOOL_IMPL  - determines the implementation of gnulib-tool.
and make sure that you have
  autoconf 2.72
  automake 1.16.5
in your PATH.

The directory gnulib-data contains a particular version of gnulib, namely
commit 35245921a8f0eace93bef05814525673078b58c7 from the stable-202401 branch,
*without* the gnulib-tool program.

The tests themselves are shell scripts named 'test-*.sh' (which makes it
easy to run a single test), in one of the these directories:
  - info-tests        Tests invocations which only produce output on stdout.
  - import-tests      Tests invocations which add files to a given package.
  - create-tests      Tests invocations which create a directory.

Each of the directories also has a 'test-all.sh' script, that runs all
the enabled tests in that directory.

To update the expected test results after a new year's date change, use a
command like this one:

fgrep -l '2002-2025 Free Software Foundation' \
         `find . '(' -name Makefile.am -o -name Makefile.gnulib -o -name GenMakefile.gnulib -o -name gnulib.mk -o -name gnulib.mk.in -o -name automake.mk -o -name Makefile.in -o -name gnulib-cache.m4 -o -name gnulib-comp.m4 -o -name Makevars -o -name POTFILES.in ')' | grep result/` \
| while read f; do \
    case $f in \
      ./import-tests/test-cache-5-12.result/lib/Makefile.am | ./import-tests/test-cache-5-16.result/tests/Makefile.am | ./import-tests/test-oath-toolkit-[2345].result/gl/* | ./import-tests/test-oath-toolkit-[1345].result/liboath/* | ./import-tests/test-oath-toolkit-[1245].result/oathtool/* | ./import-tests/test-oath-toolkit-[1235].result/libpskc/* | ./import-tests/test-oath-toolkit-[1234].result/pskctool/* ) ;; \
      *) sed -i -e 's/2002-2025 Free Software Foundation/2002-2026 Free Software Foundation/' $f ;; \
    esac; \
  done
